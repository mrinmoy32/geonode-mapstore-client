(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[60297,47310],{460604:(e,t,n)=>{"use strict";n.d(t,{hn:()=>r,yg:()=>o,vD:()=>i,jJ:()=>a,oy:()=>l,am:()=>c,W:()=>u,B1:()=>s,YP:()=>f,fU:()=>p,cY:()=>d});var r="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",a="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",l="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",c="ADDITIONALLAYER:MERGE_OPTIONS_BY_OWNER",u=function(e,t){return{type:a,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},s=function(e,t){return{type:l,owner:e,options:t}},f=function(e,t){return{type:c,owner:e,options:t}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:o,id:t,owner:n}},d=function(e){return{type:i,owner:e}}},604206:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>l,uB:()=>s,Rh:()=>f,G_:()=>p,vU:()=>d,Vw:()=>y,KD:()=>m,uj:()=>v,lo:()=>E,Yf:()=>g,fo:()=>b,PY:()=>h,bp:()=>O,oJ:()=>w,k4:()=>I,sc:()=>A,Li:()=>S});var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",l="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",u="DRAW:DRAWING_FEATURES",s="DRAW:SET_SNAPPING_LAYER",f="DRAW:SNAPPING_IS_LOADING",p="DRAW:TOGGLE_SNAPPING",d="DRAW:SET_SNAPPING_CONFIG";function y(e,t,n,r,o){return{type:a,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function m(){return{type:c,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function v(){return{type:u,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function E(){return{type:l}}function g(e,t,n,o,i,a){return{type:r,status:e,method:t,owner:n,features:o,options:i,style:a}}function b(e,t){return{type:o,geometry:e,owner:t}}function h(e){return{type:i,currentStyle:e}}var O=function(e){return g("clean","",e,[],{})};function w(){return{type:p}}function I(e){return{type:s,snappingLayer:e}}function A(){return{type:f}}function S(e,t,n){return{type:d,value:e,prop:t,pluginCfg:n}}},433528:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>r,Oj:()=>o,jp:()=>i,CM:()=>a,DU:()=>l,aO:()=>c,v6:()=>u,K8:()=>s,IN:()=>f,zh:()=>p,AH:()=>d,Ub:()=>y,_9:()=>m,JB:()=>v,oh:()=>E,AY:()=>g,yi:()=>b,SW:()=>h,Hk:()=>O,iQ:()=>w,dY:()=>I,$:()=>A,_u:()=>S,gG:()=>T,DI:()=>R,dZ:()=>_,qw:()=>P,f$:()=>D,bZ:()=>N,$O:()=>j,sF:()=>C,Gk:()=>L,vO:()=>G,ut:()=>F,MK:()=>U,VV:()=>M,B8:()=>k,VM:()=>V,a3:()=>x,Xp:()=>Y,DA:()=>Z,sK:()=>W,r:()=>H,iB:()=>z,WB:()=>K,vm:()=>B,EH:()=>$,Yd:()=>q,Hg:()=>J,Lz:()=>X,ye:()=>Q,Jb:()=>ee,d:()=>te,fT:()=>ne,Ib:()=>re,UB:()=>oe,Uh:()=>ie,QT:()=>ae,oL:()=>le,Ap:()=>ce,KD:()=>ue,Z_:()=>se,Vw:()=>fe,sY:()=>pe,kA:()=>de,gr:()=>ye,pX:()=>me,F5:()=>ve,MO:()=>Ee,dq:()=>ge,DY:()=>be,oO:()=>he,uF:()=>Oe,a8:()=>we,Pv:()=>Ie,an:()=>Ae,lg:()=>Se,nY:()=>Te,nG:()=>Re,lx:()=>_e,$S:()=>Pe,gc:()=>De,Uz:()=>Ne,fO:()=>je,$E:()=>Ce,cE:()=>Le,JK:()=>Ge,YV:()=>Fe,t9:()=>Ue,YG:()=>Me,HT:()=>ke,MY:()=>Ve,ve:()=>xe,hB:()=>Ye,Ox:()=>Ze,zd:()=>We,aT:()=>He,VH:()=>ze,Yb:()=>Ke,Jr:()=>Be,pP:()=>$e,gL:()=>qe,dM:()=>Je});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",l="FEATUREGRID:SET_SELECTION_OPTIONS",c="FEATUREGRID:TOGGLE_MODE",u="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",f="FEATUREGRID:NEW_FEATURE",p="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",y="FEATUREGRID:START_EDITING_FEATURE",m="FEATUREGRID:START_DRAWING_FEATURE",v="FEATUREGRID:DELETE_GEOMETRY",E="FEATUREGRID:DELETE_GEOMETRY_FEATURE",g="FEATUREGRID:SAVE_SUCCESS",b="FEATUREGRID:CLEAR_CHANGES",h="FEATUREGRID:SAVE_ERROR",O="FEATUREGRID:DELETE_SELECTED_FEATURES",w="SET_FEATURES",I="FEATUREGRID:SORT_BY",A="FEATUREGRID:SET_LAYER",S="QUERY:UPDATE_FILTER",T="FEATUREGRID:CHANGE_PAGE",R="FEATUREGRID:GEOMETRY_CHANGED",_="DOCK_SIZE_FEATURES",P="FEATUREGRID:TOGGLE_TOOL",D="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",N="ASK_CLOSE_FEATURE_GRID_CONFIRM",j="FEATUREGRID:OPEN_GRID",C="FEATUREGRID:CLOSE_GRID",L="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",G="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",F="FEATUREGRID:SET_PERMISSION",U="FEATUREGRID:DISABLE_TOOLBAR",M="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",k="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",V="FEATUREGRID:ADVANCED_SEARCH",x="FEATUREGRID:ZOOM_ALL",Y="FEATUREGRID:INIT_PLUGIN",Z="FEATUREGRID:SIZE_CHANGE",W="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",H="FEATUREGRID:UPDATE_EDITORS_OPTIONS",z="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",K="FEATUREGRID:SET_SYNC_TOOL",B="FEATUREGRID:SET_VIEWPORT_FILTER",$={EDIT:"EDIT",VIEW:"VIEW"},q="FEATUREGRID:START_SYNC_WMS",J="FEATUREGRID:STOP_SYNC_WMS",X="STORE_ADVANCED_SEARCH_FILTER",Q="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function re(){return{type:W}}function oe(e,t){return{type:ee,features:e,pages:t}}function ie(e){return{type:X,filterObj:e}}function ae(){return{type:Y,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function le(){return{type:L}}function ce(){return{type:G}}function ue(e,t){return{type:o,features:e,append:t}}function se(e){return{type:r,options:e}}function fe(e){return{type:R,features:e}}function pe(){return{type:y}}function de(){return{type:m}}function ye(e){return{type:i,features:e}}function me(){return{type:v}}function ve(e){return{type:E,features:e}}function Ee(){return{type:a}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=e.showCheckbox;return{type:l,multiselect:t,showCheckbox:n}}function be(e,t){return{type:I,sortBy:e,sortOrder:t}}function he(e,t){return{type:T,page:e,size:t}}function Oe(e){return{type:A,id:e}}function we(e){return{type:S,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function Ie(e,t){return{type:P,tool:e,value:t}}function Ae(e,t,n){return{type:D,name:e,key:t,value:n}}function Se(){return{type:c,mode:$.EDIT}}function Te(){return{type:c,mode:$.VIEW}}function Re(e,t){return{type:s,features:e,updated:t}}function _e(e){return{type:f,features:e}}function Pe(){return{type:p}}function De(){return{type:g}}function Ne(){return{type:O}}function je(){return{type:d}}function Ce(){return{type:b}}function Le(){return{type:h}}function Ge(){return{type:N}}function Fe(e){return{type:C,closer:e}}function Ue(){return{type:j}}function Me(e){return{type:U,disabled:e}}function ke(e){return{type:F,permission:e}}function Ve(){return{type:V}}function xe(){return{type:x}}function Ye(){return{type:q}}function Ze(e,t){return{type:Z,size:e,dockProps:t}}var We=function(e){return{type:Q,pages:e}},He=function(e){return{type:M,activated:e}},ze=function(e){return{type:k,deactivated:e}},Ke=function(e){return{type:te,value:e}},Be=function(e){return{type:ne,size:e}},$e=function(e){return{type:z,updateFilterAction:e}},qe=function(e){return{type:K,syncWmsFilter:e}},Je=function(e){return{type:B,value:e}}},801550:(e,t,n)=>{"use strict";n.d(t,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>a,uv:()=>l,Qy:()=>c,IL:()=>u,Li:()=>s,OW:()=>f,ZO:()=>p,Um:()=>d,TF:()=>y,Ls:()=>m,Ec:()=>v,Eu:()=>E,JJ:()=>g,nZ:()=>b,YD:()=>h,GI:()=>O,Jb:()=>w,Uh:()=>I,e$:()=>A,eh:()=>S,$j:()=>T,bJ:()=>R,Mk:()=>_,xy:()=>P,o6:()=>D,NH:()=>N,FP:()=>j,Mo:()=>C,sO:()=>L,Px:()=>G,hd:()=>F,y9:()=>U,Ju:()=>M,BV:()=>k,SO:()=>V,H0:()=>x,$X:()=>Y,ou:()=>Z,NE:()=>W,Lq:()=>H,aN:()=>z});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",a="CHANGE_ZOOM_LVL",l="PAN_TO",c="ZOOM_TO_EXTENT",u="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",d="CHANGE_ROTATION",y="CREATION_ERROR_LAYER",m="UPDATE_VERSION",v="INIT_MAP",E="RESIZE_MAP",g="CHANGE_MAP_LIMITS",b="SET_MAP_RESOLUTIONS",h="REGISTER_EVENT_LISTENER",O="UNREGISTER_EVENT_LISTENER",w="MOUSE_MOVE",I="MOUSE_OUT",A="MAP:MAP_PLUGIN_LOAD",S="MAP:ORIENTATION",T="MAP:UPDATE_MAP_VIEW",R="MAP:UPDATE_MAP_OPTIONS";function _(e,t,n,r){return{type:A,mapType:t,loading:e,loaded:n,error:r}}function P(e,t,n){return{type:u,pos:e,zoom:t,crs:n}}function D(e,t,n,o,i,a,l,c){return{type:r,center:e,zoom:t,bbox:n,size:o,mapStateSource:i,projection:a,viewerOptions:l,resolution:c}}function N(e){return{type:s,crs:e}}function j(e,t){return{type:o,point:e,layer:t}}function C(e){return{type:i,pointer:e}}function L(e,t){return{type:a,zoom:e,mapStateSource:t}}function G(e,t,n,r){return{type:c,extent:e,crs:t,maxZoom:n,options:r}}function F(e,t){return{type:p,style:e,mapStateSource:t}}function U(e){return{type:v,disableFeedbackMask:e}}function M(){return{type:E}}function k(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:g,restrictedExtent:t,crs:n,minZoom:r}}function V(e){return{type:b,resolutions:e}}var x=function(e,t){return{type:h,eventName:e,toolName:t}},Y=function(e,t){return{type:O,eventName:e,toolName:t}},Z=function(e){return{type:w,position:e}},W=function(){return{type:I}},H=function(e){return{type:S,orientation:e}},z=function(e){return{type:R,configUpdate:e}}},921914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>l,Pn:()=>c,DZ:()=>u,e8:()=>s,E0:()=>f,F9:()=>p,X_:()=>d,pb:()=>y,Re:()=>m,ih:()=>v,xy:()=>E,jL:()=>g,oz:()=>b,ph:()=>h,lF:()=>O,gG:()=>w,cb:()=>I,GI:()=>A,B1:()=>S,fv:()=>T,gc:()=>R,zX:()=>_,ZF:()=>P,Zb:()=>D,DW:()=>N,Xp:()=>j,Fm:()=>C,sV:()=>L,LU:()=>G,XP:()=>F,WU:()=>U,mK:()=>M,g:()=>k,ws:()=>V,HP:()=>x,aN:()=>Y,Pg:()=>W,u0:()=>H,TM:()=>z,PM:()=>K,lK:()=>B,sv:()=>$,MO:()=>q,oO:()=>J,Mc:()=>X,Zw:()=>Q,RA:()=>ee,am:()=>te,ZM:()=>ne,wm:()=>re,Y$:()=>oe,Qu:()=>ie,kT:()=>ae});var r=n(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",m="NO_QUERYABLE_LAYERS",v="CLEAR_WARNING",E="FEATURE_INFO_CLICK",g="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",b="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",h="TOGGLE_MAPINFO_STATE",O="UPDATE_CENTER_TO_MARKER",w="IDENTIFY:CHANGE_PAGE",I="IDENTIFY:CLOSE_IDENTIFY",A="IDENTIFY:CHANGE_FORMAT",S="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",T="IDENTIFY:EDIT_LAYER_FEATURES",R="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",_="IDENTIFY:SET_MAP_TRIGGER",P="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",D="IDENTIFY:SET_SHOW_IN_MAP_POPUP",N="IDENTIFY:IDENTIFY_IS_MOUNTED",j="IDENTIFY:INIT_PLUGIN";function C(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function L(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function G(){return{type:m}}function F(){return{type:v}}function U(e,t){return{type:c,reqId:e,request:t}}function M(e){return{type:l,enabled:e}}function k(){return{type:u}}function V(e){return{type:s,infoFormat:e}}function x(){return{type:f}}function Y(){return{type:p}}function Z(e){return{type:d,reverseGeocodeData:e.data}}function W(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(Z(e))})).catch((function(e){t(Z(e))}))}}function H(){return{type:y}}function z(){return{type:h}}function K(e){return{type:O,status:e}}function B(e,t){return{type:E,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function $(e){return{type:g,point:e}}function q(e){return{type:b,enabled:e}}function J(e){return{type:w,index:e}}var X=function(){return{type:I}},Q=function(e){return{type:A,format:e}},ee=function(e){return{type:S,showCoordinateEditor:e}},te=function(e){return{type:T,layer:e}},ne=function(e){return{type:R,query:e}},re=function(e){return{type:_,trigger:e}},oe=function(e){return{type:D,value:e}},ie=function(e){return{type:N,isMounted:e}},ae=function(e){return{type:j,cfg:e}}},647310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(375875),o=n.n(r),i=n(472500),a=n.n(i),l=n(727418),c=n.n(l),u={format:"json",bounded:0,polygon_geojson:1,priority:5};const s={geocode:function(e,t){var n=c()({q:e},u,t||{}),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=c()({lat:e.lat,lon:e.lng},t||{},u),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},807472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(727418),o=n.n(r),i=n(45697),a=n.n(i),l=n(124852),c=n.n(l),u=n(485294),s=n.n(u),f=n(472986),p=n.n(f),d=n(805346);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function g(e,t,n){return t=h(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function w(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var A=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w(e=g(this,t,[].concat(r)),"renderLoading",(function(){return e.props.maskLoading?c().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},c().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},c().createElement(d.Z,{msgId:"loading"}),c().createElement(p(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),w(e,"renderRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),w(e,"hasRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),w(e,"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=c().createElement("div",{id:this.props.id,style:v({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},c().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),c().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?c().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):c().createElement("span",null)),n=this.props.draggable?c().createElement(s(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?c().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&E(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(c().Component);w(A,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),w(A,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const S=A},135400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(124852),o=n.n(r),i=n(379313);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t,r=e.mainViewStyle,a=void 0===r?{}:r,l=e.contentStyle,u=void 0===l?{}:l,s=e.imageStyle,f=void 0===s?{}:s,p=e.glyph,d=void 0===p?"info-sign":p,y=e.iconFit,m=e.title,v=e.tooltip,E=e.tooltipId,g=e.description,b=e.content;return o().createElement("div",{className:"empty-state-container",style:c({height:y?"100%":void 0},n)},o().createElement("div",{key:"main-view",className:"empty-state-main-view",style:c({height:y?"100%":void 0},a)},d?o().createElement("div",{key:"glyph",className:"empty-state-image",style:c({height:y?"100%":void 0},f)},o().createElement(i.Z,{iconFit:y,tooltip:v,tooltipId:E,glyph:d})):null,m?o().createElement("h1",{key:"title"},m):null,g?o().createElement("p",{key:"description",className:"empty-state-description"},g):null),o().createElement("div",{key:"content",className:"empty-state-content",style:u},b))}},379313:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(124852),o=n.n(r),i=n(480681),a=n(496259),l=(0,n(815135).Z)(i.gG);const c=function(e){var t=e.glyph,n=void 0===t?"info-sign":t,r=e.tooltip,i=e.tooltipId,c=e.iconFit,u=e.padding,s=void 0===u?0:u,f=e.margin,p=void 0===f?0:f;return o().createElement(a.Z,null,(function(e){var t=e.width,a=e.height;return o().createElement(l,{glyph:n,tooltip:r,tooltipId:i,style:{display:"inline-block",padding:s+"px",margin:p+"px",textAlign:"center",fontSize:c?Math.min(t,a)-2*s-2*p:t-2*s-2*p}})}))}},895160:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Nt});var r={};n.r(r),n.d(r,{getAPI:()=>$,getLocation:()=>J,loadAPI:()=>q,loadGoogleMapsAPI:()=>B});var o={};n.r(o),n.d(o,{getAPI:()=>ee,getLocation:()=>te,loadAPI:()=>Q});var i={};n.r(i),n.d(i,{disableGFIForStreetViewEpic:()=>wt,streetViewMapClickHandler:()=>At,streetViewSetupTearDown:()=>It,streetViewSyncLayer:()=>St,tearDownStreetViewOnDrawToolActive:()=>Tt});var a=n(124852),l=n.n(a),c=n(480681),u=n(171703),s=n(322843),f="street-view",p=f,d="street-view-marker",y="street-view-data",m={GOOGLE:"google",CYCLOMEDIA:"cyclomedia"},v="__cycloMedia_streetView_source_credential__",E=n(22222),g=n(805346),b=n(807472),h=n(101706),O=n(624262),w=n(607147),I=n(569893),A=n(2510),S=(0,w.Yq)(f),T=function(e){var t;return null!==(t=null==e?void 0:e.streetView)&&void 0!==t?t:{}},R=function(e){return function(t){var n,r,o;return null!==(n=null===(r=T(t))||void 0===r||null===(o=r.apiLoaded)||void 0===o?void 0:o[e])&&void 0!==n&&n}},_=(0,E.P1)(T,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).location})),P=(0,E.P1)(T,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pov}));function D(e){var t,n;return null!==(t=null===(n=T(e))||void 0===n?void 0:n.configuration)&&void 0!==t?t:{}}function N(e){var t,n;return null!==(t=null===(n=D(e))||void 0===n?void 0:n.provider)&&void 0!==t?t:"google"}var j={provider:"custom",type:"tileprovider",url:"https://mts1.googleapis.com/vt?hl=en-US&lyrs=svv|cb_client:apiv3&style=40,18&x={x}&y={y}&z={z}"},C={type:"wfs",security:{type:"Basic",sourceType:"sessionStorage",sourceId:v},strategy:"bbox",maxResolution:1,serverType:O.z$.NO_VENDOR,url:"https://atlasapi.cyclomedia.com/api/Recordings/wfs",name:"atlas:Recording",style:{format:"geostyler",body:{name:"My Style",rules:[{name:"",symbolizers:[{kind:"Mark",color:"#0000ff",fillOpacity:1,strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,radius:5,wellKnownName:"Circle",msHeightReference:"none",msBringToFront:!0,symbolizerId:"d2c4dab1-a0e7-11ee-a734-df08d0913056"}],ruleId:"d2c4dab0-a0e7-11ee-a734-df08d0913056"}]}}},L=(0,E.P1)(N,(function(e){switch(e){case m.GOOGLE:return j;case m.CYCLOMEDIA:return C;default:return{}}}));function G(e){switch(N(e)){case m.GOOGLE:return function(e){var t,n,r,o,i,a,l,c,u;return null!==(t=null!==(n=null!==(r=null===(o=D(e))||void 0===o?void 0:o.apiKey)&&void 0!==r?r:null===(i=(0,A.kQ)(e))||void 0===i||null===(a=i.apiKeys)||void 0===a?void 0:a.googleStreetViewAPIKey)&&void 0!==n?n:null===(l=(0,A.kQ)(e))||void 0===l||null===(c=l.apiKeys)||void 0===c?void 0:c.googleAPIKey)&&void 0!==t?t:null===(u=(0,A.kQ)(e))||void 0===u?void 0:u.googleAPIKey}(e);case m.CYCLOMEDIA:return function(e){var t,n,r,o;return null!==(t=null===(n=D(e))||void 0===n?void 0:n.apiKey)&&void 0!==t?t:null===(r=(0,A.kQ)(e))||void 0===r||null===(o=r.apiKeys)||void 0===o?void 0:o.cyclomediaAPIKey}(e);default:return null}}function F(e){var t,n;return null===(t=null===(n=D(e))||void 0===n?void 0:n.useDataLayer)||void 0===t||t}var U=n(782904),M=n(197395),k=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n};const V="__googleMapsScriptId";class x{constructor({apiKey:e,channel:t,client:n,id:r=V,libraries:o=[],language:i,region:a,version:l,mapIds:c,nonce:u,retries:s=3,url:f="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.version=l,this.apiKey=e,this.channel=t,this.client=n,this.id=r||V,this.libraries=o,this.language=i,this.region=a,this.mapIds=c,this.nonce=u,this.retries=s,this.url=f,x.instance){if(!k(this.options,x.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(x.instance.options)}`);return x.instance}x.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var Y=function(e){var t,n;return{pano:null==e?void 0:e.pano,shortDescription:null==e?void 0:e.shortDescription,description:null==e?void 0:e.description,latLng:{lat:null==e||null===(t=e.latLng)||void 0===t?void 0:t.lat(),lng:null==e||null===(n=e.latLng)||void 0===n?void 0:n.lng()}}};function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}var W,H=["apiKey","version","useStaticCache"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.apiKey,n=e.version,r=void 0===n?"weekly":n,o=e.useStaticCache,i=void 0===o||o,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,H);if(!(i?W:void 0)){var l=new x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({apiKey:t,version:r},a));return l.load().then((function(e){return W=e,e}))}return new Promise((function(e){return e(W)}))};function $(){return W}var q=B;function J(e){var t=e.latlng;return(new($().maps.StreetViewService)).getPanorama({location:t,radius:50}).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,t=(null!=e?e:{}).location;return Y(t)}))}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(){return new Promise((function(e){return e()}))},ee=function(){},te=function(e){return new Promise((function(t,n){var r,o,i,a=e.intersectedFeatures,l=null!==(r=null===(o=(void 0===a?[]:a).find((function(e){return e.id===y})))||void 0===o?void 0:o.features)&&void 0!==r?r:[];l.length||n({code:"ZERO_RESULTS"});var c,u,s=null!==(i=l[0])&&void 0!==i?i:{},f=s.properties,p=s.geometry,d=(c=(void 0===p?{}:p).coordinates,u=3,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(c,u)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],v=d[1],E=d[2];t({properties:f,latLng:{lat:v,lng:m,h:void 0===E?0:E}})}))};const ne={google:r,cyclomedia:o};var re="STREET_VIEW:API_LOADING",oe="STREET_VIEW:API_LOADED",ie="STREET_VIEW:SET_LOCATION",ae="STREET_VIEW:SET_POV",le="STREET_VIEW:CONFIGURE",ce="STREET_VIEW:RESET",ue="STREET_VIEW:UPDATE_STREET_VIEW_LAYER";function se(e){return{type:re,loading:e}}function fe(){return function(e,t){var n,r,o=N(t());if(R(o)(t()))e((0,U.Xi)(f,"enabled"));else{se(!0);var i=G(t()),a=null!==(n=null===(r=D(t()))||void 0===r?void 0:r.providerSettings)&&void 0!==n?n:{};ne[o]||(console.error("No API found for provider ".concat(o)),e((0,M.vU)({title:"streetView.title",message:"No API found for provider ".concat(o)}))),ne[o].loadAPI({apiKey:i,providerSettings:a}).then((function(){se(!1),e(function(e){return{type:oe,provider:e}}(o)),e((0,U.Xi)(f,"enabled"))})).catch((function(e){se(!1),console.log(e)}))}}}function pe(e){return{type:ie,location:e}}function de(e){return{type:ae,pov:e}}var ye=n(618446),me=n.n(ye),ve=n(472986),Ee=n.n(ve),ge=n(135400);const be=function(e){var t=e.loading,n=void 0!==t&&t,r=e.title,o=void 0===r?l().createElement(g.Z,{msgId:"streetView.emptyTitle"}):r,i=e.description,a=void 0===i?l().createElement(g.Z,{msgId:"streetView.emptyDescription"}):i;return l().createElement("div",{className:"empty-street-view"},l().createElement(ge.Z,{iconFit:!1,glyph:"road",title:o,description:l().createElement(l().Fragment,null,n?l().createElement(l().Fragment,null,l().createElement(Ee(),{style:{display:"inline-block",verticalAlign:"bottom"},spinnerName:"circle",noFadeIn:!0})," "):null,a)}))};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==he(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Te=function(e){var t=e.size,n=e.google,r=e.position,o=e.location,i=e.pov,c=e.className,u=void 0===c?"google-street-view":c,s=e.style,f=void 0===s?{}:s,p=e.panoramaOptions,d=void 0===p?{}:p,y=(0,a.useRef)(),m=Ae((0,a.useState)(),2),v=m[0],E=m[1];(0,a.useEffect)((function(){if(n&&o&&!v){var e=new n.maps.StreetViewPanorama(y.current,we({position:r,pov:i,zoom:1},d));o.pano&&e.setPano(o.pano),E(e)}}),[n,o,v,d]);var g=Ae((0,a.useState)(),2),b=g[0],h=g[1];return(0,a.useEffect)((function(){return v&&h(function(e,t){var n=t.location,r=t.setLocation,o=t.setPov,i=[];return i.push(e.addListener("position_changed",(function(){var t=Y(e.getLocation());me()(null==n?void 0:n.latLng,null==t?void 0:t.latLng)||r(t)}))),i.push(e.addListener("pov_changed",(function(){var t=e.getPov(),n=t.heading,r=t.pitch;o({heading:n,pitch:r})}))),i}(v,e)),function(e){e&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){return e.removeListener(t)}))}(v,b)}),[v]),(0,a.useEffect)((function(){n&&n.maps.event.trigger(v,"resize")}),[t]),(0,a.useEffect)((function(){v&&o.pano&&v.setPano(o.pano)}),[null==o?void 0:o.pano]),l().createElement(l().Fragment,null,l().createElement("div",{className:u,style:we({display:v?"none":"block"},f)},l().createElement(be,null)),l().createElement("div",{className:u,style:we({display:v?"block":"none"},f),ref:y}))};var Re=["apiLoaded","enabled"];function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(null,arguments)}const Pe=(0,u.connect)((0,E.zB)({apiLoaded:R("google"),location:_,panoramaOptions:function(e){var t;return null===(t=D(e))||void 0===t?void 0:t.panoramaOptions}}),{setLocation:pe,setPov:de})((function(e){var t=e.apiLoaded,n=(e.enabled,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Re));return t?l().createElement(Te,_e({location,google:$()},n)):l().createElement("div",{className:"street-view-api-loader"},l().createElement(g.Z,{msgId:"streetView.loadingAPI"}))}));var De=n(774565),Ne=n(916651),je=n(233044);function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ge=(0,n(815135).Z)(c.zx);const Fe=function(e){var t=e.setCredentials,n=void 0===t?function(){}:t,r=e.credentials,o=e.showCredentialsForm,i=e.setShowCredentialsForm,u=void 0===i?function(){}:i,s=Ce((0,a.useState)((null==r?void 0:r.username)||""),2),f=s[0],p=s[1],d=Ce((0,a.useState)((null==r?void 0:r.password)||""),2),y=d[0],m=d[1];return o?l().createElement("div",{className:"street-view-credentials"},l().createElement("h5",null,l().createElement(g.Z,{msgId:"streetView.cyclomedia.insertCredentials"})),l().createElement(c.l0,null,l().createElement(c.J$,null,l().createElement(g.Z,{msgId:"streetView.cyclomedia.username"})),l().createElement(c.NI,{type:"text",value:f,onChange:function(e){return p(e.target.value)}}),l().createElement(c.J$,null,l().createElement(g.Z,{msgId:"streetView.cyclomedia.password"})),l().createElement(c.NI,{type:"password",value:y,onChange:function(e){return m(e.target.value)}}),l().createElement("div",{className:"street-view-credentials-form-buttons"},l().createElement(c.zx,{disabled:!f||!y,onClick:function(){return n({username:f,password:y}),void u(!1)}},l().createElement(g.Z,{msgId:"streetView.cyclomedia.submit"})),(null==r?void 0:r.username)&&(null==r?void 0:r.password)&&l().createElement(c.zx,{onClick:function(){n({username:r.username,password:r.password}),u(!1)}},l().createElement(g.Z,{msgId:"cancel"}))))):l().createElement("div",{style:{textAlign:"right"}},l().createElement(Ge,{style:{marginRight:10,border:"none",background:"none"},tooltipId:"streetView.cyclomedia.changeCredentials",onClick:function(){u(!0)}},l().createElement(c.gG,{glyph:"1-user-mod"})))};function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ze="Projection not available",We=function(e){var t,n;return null==e||null===(t=e.message)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"code 401")},He=function(e){var t=e.initializing,n=e.initialized,r=e.StreetSmartApi,o=e.mapPointVisible;return n&&!o?l().createElement(be,{description:l().createElement(g.Z,{msgId:"streetView.cyclomedia.zoomIn"})}):n?l().createElement(be,null):t?l().createElement(be,{loading:!0,description:l().createElement(g.Z,{msgId:"streetView.cyclomedia.initializing"})}):r?null:l().createElement(be,{loading:!0,description:l().createElement(g.Z,{msgId:"streetView.cyclomedia.loadingAPI"})})};const ze=function(e){var t,n,r,o,i=e.apiKey,u=e.style,s=e.location,f=void 0===s?{}:s,p=e.setPov,d=void 0===p?function(){}:p,y=e.setLocation,m=void 0===y?function(){}:y,E=e.mapPointVisible,b=e.providerSettings,h=void 0===b?{}:b,O=e.refreshLayer,w=void 0===O?function(){}:O,I=null!==(t=null==h?void 0:h.StreetSmartApiURL)&&void 0!==t?t:"https://streetsmart.cyclomedia.com/api/v23.7/StreetSmartApi.js",A=null!==(n=null==h?void 0:h.scripts)&&void 0!==n?n:'\n    <script type="text/javascript" src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"><\/script>\n    <script type="text/javascript" src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"><\/script>\n    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"><\/script>\n    ',S=null!==(r=null==h?void 0:h.initOptions)&&void 0!==r?r:{},T=null!==(o=null==h?void 0:h.srs)&&void 0!==o?o:"EPSG:4326",R=f.properties,_=(null!=R?R:{}).imageId,P=xe((0,a.useState)(),2),D=P[0],N=P[1],j=xe((0,a.useState)(),2),C=j[0],L=j[1],G=(0,a.useRef)(null),F=xe((0,a.useState)(!1),2),U=F[0],M=F[1],k=xe((0,a.useState)(!1),2),V=k[0],x=k[1],Y=xe((0,a.useState)(1),2),Z=Y[0],W=Y[1],H=xe((0,a.useState)(null),2),z=H[0],K=H[1],B=(0,je.getCredentials)(v),$=xe((0,a.useState)(B),2),q=$[0],J=$[1],X=xe((0,a.useState)(!(null!=q&&q.username&&null!=q&&q.password)),2),Q=X[0],ee=X[1],te=null!=q?q:{},ne=te.username,re=te.password;(0,a.useEffect)((function(){(0,De.LZ)(T)||(console.error("Cyclomedia API: init: error: projection ".concat(T," is not available")),K(new Error(Ze)))}),[T]),(0,a.useEffect)((function(){return D&&ne&&re&&i&&(0,De.LZ)(T)?(M(!0),D.init(ke({targetElement:C,username:ne,password:re,apiKey:i,loginOauth:!1,srs:T,locale:"en-us"},S)).then((function(){M(!1),x(!0),K(null)})).catch((function(e){M(!1),K(e),e&&console.error("Cyclomedia API: init: error: "+e)})),function(){try{var e;x(!1),null==D||null===(e=D.destroy)||void 0===e||e.call(D,{targetElement:C})}catch(e){console.error(e)}}):function(){}}),[D,ne,re,i,Z]),(0,a.useEffect)((function(){var e=We(z);V&&ne&&re&&!e&&V?((0,je.setCredentials)(v,q),w()):((0,je.getCredentials)(v)&&(0,je.setCredentials)(v,void 0),w())}),[V,ne,re,ne,re,z,V]);var oe=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).detail,n=null!=t?t:{},r=n.yaw,o=n.pitch;d({heading:r,pitch:o})},ie=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).detail,n=(null!=t?t:{}).recording;if(null!=n&&n.xyz&&null!=n&&n.id){var r,o,i=(0,Ne.reproject)([null==n||null===(r=n.xyz)||void 0===r?void 0:r[0],null==n||null===(o=n.xyz)||void 0===o?void 0:o[1]],T,"EPSG:4326"),a=i.x,l=i.y;m({latLng:{lat:l,lng:a},properties:ke(ke({},n),{},{imageId:null==n?void 0:n.id})})}};(0,a.useEffect)((function(){return D&&_&&V?(function(e){var t={viewerType:D.ViewerType.PANORAMA,srs:T,panoramaViewer:{closable:!1,maximizable:!0,replace:!0,recordingsVisible:!0,navbarVisible:!0,timeTravelVisible:!0,measureTypeButtonVisible:!0,measureTypeButtonStart:!0,measureTypeButtonToggle:!0},obliqueViewer:{closable:!0,maximizable:!0,navbarVisible:!1}};return D.open(e,t)}(_).then((function(r){r&&r[0]&&(e=r[0],t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe.apply(void 0,[e].concat(n))},n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ie.apply(void 0,[e].concat(n))},e.on(D.Events.panoramaViewer.VIEW_CHANGE,t),e.on(D.Events.panoramaViewer.RECORDING_CLICK,n))})).catch((function(e){K(e),console.error("Cyclomedia API: open: error: "+e)})),function(){e&&t&&(e.off(D.Events.panoramaViewer.VIEW_CHANGE,t),e.off(D.Events.panoramaViewer.RECORDING_CLICK,n))}):function(){};var e,t,n}),[D,V,_]);var ae=D&&V&&_&&!Q&&!z,le=U||!Q&&!ae&&!z,ce=z&&!Q&&!ae&&!U,ue="<html>\n        <head>\n            <style>\n                html, body, #ms-street-smart-viewer-container {\n                    width: 100%;\n                    height: 100%;\n                    margin: 0;\n                    padding: 0;\n                    overflow: hidden;\n                }\n            </style>\n            ".concat(A,'\n            <script type="text/javascript" src="').concat(I,'" ><\/script>\n            <script>\n                    window.StreetSmartApi = StreetSmartApi\n            <\/script>\n            </head>\n            <body>\n                <div key="main" id="ms-street-smart-viewer-container" />\n\n            </body>\n        </html>');return l().createElement(l().Fragment,null,l().createElement(Fe,{key:"credentials",showCredentialsForm:Q,setShowCredentialsForm:ee,credentials:q,setCredentials:function(e){J(e)}}),le?l().createElement(He,{key:"empty-view",StreetSmartApi:D,style:u,initializing:U,initialized:V,mapPointVisible:E}):null,l().createElement("iframe",{key:"iframe",ref:G,onLoad:function(){var e,t;L(null===(e=G.current)||void 0===e?void 0:e.contentDocument.querySelector("#ms-street-smart-viewer-container")),N(null===(t=G.current)||void 0===t?void 0:t.contentWindow.StreetSmartApi)},style:ke(ke({},u),{},{display:ae?"block":"none"}),srcDoc:ue}),l().createElement(c.bZ,{bsStyle:"danger",style:ke(ke({},u),{},{textAlign:"center",alignContent:"center",display:ce?"block":"none"}),key:"error"},l().createElement(g.Z,{msgId:"streetView.cyclomedia.errorOccurred"}),function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return We(e)>=0?l().createElement(g.Z,{msgId:"streetView.cyclomedia.errors.invalidCredentials",msgParams:o}):(null==e||null===(t=e.message)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,Ze))>=0?l().createElement(g.Z,{msgId:"streetView.cyclomedia.errors.projectionNotAvailable",msgParams:o}):null!==(r=null==e?void 0:e.message)&&void 0!==r?r:"Unknown error"}(z,{srs:T}),V?l().createElement("div",null,l().createElement(c.zx,{onClick:function(){K(null);try{W(Z+1)}catch(e){console.error(e)}}},l().createElement(g.Z,{msgId:"streetView.cyclomedia.reloadAPI"}))):null))};var Ke=n(800827),Be=["enabled","apiLoaded"];function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(null,arguments)}var qe=(0,E.P1)(Ke.G3,(function(e){return e<1})),Je=(0,u.connect)((0,E.zB)({apiLoaded:R(m.CYCLOMEDIA),location:_,apiKey:G,mapPointVisible:qe}),{setLocation:pe,setPov:de,refreshLayer:function(){return e={_v_:Date.now()},{type:ue,updates:e};var e}})((function(e){var t=e.enabled,n=e.apiLoaded,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Be),o=(0,a.useMemo)((function(){return ee()}),[n]);return t?l().createElement(ze,$e({api:o},r)):null}));function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Xe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nt={google:Pe,cyclomedia:Je};const rt=(0,u.connect)((0,E.zB)({enabled:S}),{onClose:function(){return fe()}})((function(e){var t,n,r=e.enabled,o=e.onClose,i=void 0===o?function(){}:o,u=e.provider,s=e.panelSize,f=e.providerSettings,p=(t=(0,a.useState)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:400,height:300},s)),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=p[0],y=p[1],m=(0,a.useMemo)((function(){return nt[u]}),[u]);return r?l().createElement(b.Z,{id:"street-view-dialog",bodyClassName:"street-view-window-body",draggable:!0,style:{zIndex:1e4,position:"absolute",left:"17%",top:"50px",margin:0,width:d.width}},l().createElement("span",{role:"header",style:{display:"flex",justifyContent:"space-between"}},l().createElement("span",null,l().createElement(g.Z,{msgId:"streetView.title"})),l().createElement("button",{onClick:function(){return i()},className:"close"},l().createElement(c.gG,{glyph:"1-close"}))),l().createElement("div",{role:"body",style:{height:d.height}},l().createElement(h.Resizable,{width:d.width,height:d.height,onResize:function(e,t){var n=t.size;y(n)}},l().createElement("div",{style:{display:"flex",flexDirection:"column",width:d.width,height:d.height}},m?l().createElement(m,{providerSettings:f,enabled:r,size:d,style:{flex:1,margin:10,height:"calc(100% - ".concat(20,"px)"),width:"calc(100% - ".concat(20,"px)")}}):l().createElement(c.bZ,{bsStyle:"danger"},"Unknown provider ",u))))):null}));function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ot(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct={},ut=n(49977),st=n.n(ut),ft=n(460604),pt=n(801550),dt=n(921914),yt=n(307877),mt=n(998869);function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wt=function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(U.kM,U.At,U.dc).filter((function(e){return e.control===f})).filter((function(){return S(r())})).switchMap((function(){return st().Observable.of((0,dt.aN)(),(0,dt.mK)(!1)).merge(e.ofType(U.kM,U.At,U.dc).filter((function(e){return e.control===f})).take(1).filter((function(){return!S(r())})).filter((function(){return!(0,yt.yg)(r())})).mapTo((0,dt.mK)(!0)).takeUntil(e.ofType(U.l)))}))},It=function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(U.kM,U.At,U.dc).filter((function(e){return e.control===f})).filter((function(){return S(r())})).switchMap((function(){return st().Observable.from([(0,pt.H0)("click",f)].concat(ht(F(r())?[(0,ft.W)(y,p,"overlay",gt({id:y,name:y,visibility:!0},(t=r(),L(t))))]:[]),[(0,ft.W)(d,p,"overlay",{id:d,type:"vector",name:d,visibility:!0})])).concat(e.ofType(U.kM,U.At,U.dc).filter((function(e){return e.control===f})).filter((function(){return!S(r())})).merge(e.ofType(U.l)).take(1).switchMap((function(){return st().Observable.from([(0,pt.$X)("click",f)].concat(ht(F(r())?[(0,ft.fU)({id:y,owner:p})]:[]),[(0,ft.fU)({id:d,owner:p})]))})));var t}))},At=function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(pt.TR).filter((function(){return S(r())})).filter((function(){return e=r(),R(N(e))(e);var e})).switchMap((function(e){var t,n=e.point,o=N(r()),i=null===(t=ne[o])||void 0===t?void 0:t.getLocation;return i?st().Observable.defer((function(){return i(n)})).map(pe).catch((function(e){return"ZERO_RESULTS"===e.code?st().Observable.of((0,M.um)({title:"streetView.title",message:"streetView.messages.noDataForPosition"})):(console.error(e),st().Observable.of((0,M.vU)({title:"streetView.title",message:"streetView.messages.unknownError"})))})):st().Observable.of((0,M.vU)({title:"streetView.title",message:"streetView.messages.providerNotSupported"}))}))},St=function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(ie,ae).switchMap((function(){var e=r(),t=_(e),n=P(e);return t?st().Observable.of(function(e,t){var n,r,o=null==e?void 0:e.latLng,i=o.lat;return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng,i],crs:"EPSG:4326"},style:[{iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,size:100,symbolUrl:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent((n={rotation:null==t?void 0:t.heading},r=n.rotation,'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" xml:space="preserve">\n\t\t<g transform="translate(50,50) scale(2)">\n            <circle style="stroke: #a5ff91; stroke-width: 2; fill: #5bA640; fill-opacity:0.6; opacity: 1;" vector-effect="non-scaling-stroke" cx="0" cy="0" r="13"/>\n        </g>\n        <g transform="translate(50,50) scale(2) rotate('.concat(void 0===r?0:r,')">\n            <polygon style="stroke: #a5ff91; stroke-width: 2; fill: #228D4F; fill-opacity:1; opacity: 1;" vector-effect="non-scaling-stroke" points="0,-12 5,-5 0,-8 -5,-5 "/>\n        </g>\n        <g transform="translate(50,50) translate(0,-5) scale(1.5)">\n            <circle style="stroke: #3100aa; stroke-width: 2; fill: #037dff; fill-opacity:1; opacity: 1;" vector-effect="non-scaling-stroke" cx="0" cy="0" r="3"/>\n        </g>\n        <g transform="translate(50,50) scale(2) translate(5,5) rotate(180)">\n            <path d="M0,0 a1,1 0 0,0 10,0" style="stroke: #3100aa; stroke-width: 2; fill: #037dff; fill-opacity:1; opacity: 1;" vector-effect="non-scaling-stroke"/>\n        </g>\n</svg>'))),shape:"triangle",id:"c65cadc0-9b46-11ea-a138-dd5f1faf9a0d",highlight:!1,weight:4}]}}(t,n)).map((function(e){var t=function(e){var t,n,r;return null===(n=(null!==(t=(0,I.K)(e))&&void 0!==t?t:[]).filter((function(e){return e.id===d})))||void 0===n||null===(r=n[0])||void 0===r?void 0:r.options}(r());return(0,ft.W)(d,p,"overlay",gt(gt({},t),{},{features:[e]}))})):st().Observable.empty()})).merge(e.ofType(ue).switchMap((function(e){var t,n,o,i,a=e.updates,l=void 0===a?{}:a,c=(t=r(),null===(o=(null!==(n=(0,I.K)(t))&&void 0!==n?n:[]).filter((function(e){return e.id===y})))||void 0===o||null===(i=o[0])||void 0===i?void 0:i.options);return st().Observable.of((0,ft.W)(y,p,"overlay",gt(gt({},c),l)))})))},Tt=function(e,t){return(0,mt.U)(e,t,f)},Rt=n(893379),_t=n.n(Rt),Pt=n(68778);_t()(Pt.Z,{insert:"head",singleton:!1}),Pt.Z.locals;var Dt=(0,u.connect)((function(){return{}}),{onMount:function(e){return{type:le,configuration:e}},onUnmount:function(){return function(e,t){e({type:ce}),S(t())&&e((0,U.Xg)(f,"enabled",!1))}}})((function(e){var t=e.onMount,n=e.onUnmount,r=e.apiKey,o=e.useDataLayer,i=e.dataLayerConfig,c=e.panoramaOptions,u=e.provider,s=void 0===u?"google":u,f=e.providerSettings,p=e.panelSize;return(0,a.useEffect)((function(){return t({apiKey:r,useDataLayer:o,dataLayerConfig:i,panoramaOptions:c,provider:s,providerSettings:f}),function(){n()}}),[r,o,i,JSON.stringify(null!=c?c:{})]),l().createElement(rt,{provider:s,providerSettings:f,panelSize:p})}));const Nt=(0,s.rx)("StreetView",{options:{disablePluginIf:"{state('mapType') === 'leaflet' || state('mapType') === 'cesium'}"},epics:i,reducers:{streetView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(null==t?void 0:t.type){case le:return at(at({},e),{},{configuration:null==t?void 0:t.configuration});case ie:var n;return at(at({},e),{},{location:null!==(n=null==t?void 0:t.location)&&void 0!==n?n:e.location});case ae:var r;return at(at({},e),{},{pov:null!==(r=null==t?void 0:t.pov)&&void 0!==r?r:e.pov});case re:return at(at({},e),{},{apiLoading:null==t?void 0:t.loading});case oe:return at(at({},e),{},{apiLoaded:lt({},t.provider,!0)});case ce:return ct;default:return e}}},component:Dt,containers:{BurgerMenu:{position:40,priority:2,doNotHide:!0,name:f,text:l().createElement(g.Z,{msgId:"streetView.title"}),tooltip:"streetView.tooltip",icon:l().createElement(c.gG,{glyph:"road"}),action:function(){return fe()}},SidebarMenu:{position:40,priority:1,doNotHide:!0,name:f,text:l().createElement(g.Z,{msgId:"streetView.title"}),tooltip:"streetView.tooltip",icon:l().createElement(c.gG,{glyph:"road"}),action:function(){return fe()},selector:function(e){return{bsStyle:S(e)?"primary":"tray",active:S(e)||!1}}}}})},569893:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(227361),o=n.n(r),i=function(e){return o()(e,"additionallayers")||[]}},998869:(e,t,n)=>{"use strict";n.d(t,{k:()=>s,U:()=>f});var r=n(782904),o=n(49977),i=n.n(o),a=n(607147),l=n(604206),c=n(801550),u=n(433528),s="export-context",f=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return i().Observable.from([(0,r.Xg)(t,"enabled",null)])},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t){return(0,a.Yq)(t)(e)};return e.ofType(l.hZ,c.YD,u.$O).filter((function(e){var r=e.type,o=e.status,i=e.owner,a=e.eventName,f=e.toolName,p=s(t.getState(),n);switch(r){case u.$O:return"featureGrid"!==n;case c.YD:return p&&"click"===a&&f!==n;case l.hZ:return p&&("drawOrEdit"===o||"start"===o)&&i!==n;default:return p&&"annotations"!==n}})).switchMap((function(e){return s(t.getState(),n)?o(t.getState(),n,e):i().Observable.empty()}))}},68778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(923645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"/* css for react-resizable */\n.street-view-window-body {\n  /* override the standard justify */\n}\n.street-view-window-body .react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  bottom: 0;\n  right: 0;\n  background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+');\n  background-position: bottom right;\n  padding: 0 3px 3px 0;\n  background-repeat: no-repeat;\n  background-origin: content-box;\n  box-sizing: border-box;\n  cursor: se-resize;\n}\n.street-view-window-body .react-resizable {\n  position: relative;\n}\n.street-view-window-body .empty-state-container .empty-state-main-view .empty-state-description {\n  text-align: center;\n}\n.street-view-window-body .street-view-api-loader {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n.street-view-window-body .empty-street-view {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n.street-view-window-body .empty-street-view div {\n  max-width: 350px;\n}\n.street-view-window-body .empty-street-view .empty-state-image .glyphicon {\n  margin-left: -14% !important;\n}\n.street-view-window-body .street-view-credentials h5 {\n  text-align: center;\n  font-weight: bold;\n  margin: 25px auto;\n}\n.street-view-window-body .street-view-credentials form {\n  margin: 0 30px;\n}\n.street-view-window-body .street-view-credentials form .street-view-credentials-form-buttons {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n.street-view-window-body iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n",""]);const i=o}}]);